(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{286:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s(91);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var s=[],n=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(s.push(o.value),!t||s.length!==t);n=!0);}catch(a){r=!0,i=a}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return s}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},287:function(e,t,s){"use strict";t.a=s.p+"static/media/user.634c58c9.jpg"},288:function(e,t,s){"use strict";s.d(t,"a",(function(){return d}));var n=s(5),r=s(51),i=s(52),o=s(54),c=s(53),a=s(0),u=s.n(a),j=s(19),l=s(11),b=s(2),d=function(e){var t=function(t){Object(o.a)(a,t);var s=Object(c.a)(a);function a(){return Object(r.a)(this,a),s.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(b.jsx)(e,Object(n.a)({},this.props)):Object(b.jsx)(l.a,{to:"/login"})}}]),a}(u.a.Component);return Object(j.b)(p)(t)},p=function(e){return{isAuth:e.auth.isAuth}}},290:function(e,t,s){},291:function(e,t,s){e.exports={item:"Post_item__4FtC2"}},292:function(e,t,s){},293:function(e,t,s){e.exports={content__img:"ProfileInfo_content__img__2F_jQ",profile__info:"ProfileInfo_profile__info__2SyLg",MainPhoto:"ProfileInfo_MainPhoto__153xZ"}},298:function(e,t,s){"use strict";s.r(t);var n=s(5),r=s(51),i=s(52),o=s(54),c=s(53),a=s(0),u=s.n(a),j=s(19),l=s(92),b=s(37),d=s(125),p=s(126),f=s(43),h=s(65),O=(s(290),s(291)),m=s.n(O),x=s(2),v=function(e){return Object(x.jsxs)("div",{className:m.a.item,children:[Object(x.jsx)("img",{src:"https://a3.animevost.org/uploads/fotos/foto_400157.jpg"}),e.message,Object(x.jsx)("div",{children:Object(x.jsxs)("span",{children:[Object(x.jsx)("b",{children:"like"})," ",e.like]})})]})},g=u.a.memo((function(e){var t=Object(b.a)(e.posts).reverse().map((function(e){return Object(x.jsx)(v,{id:e.id,message:e.message,like:e.like},e.id)}));return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"My Posts"}),Object(x.jsx)(P,{onSubmit:function(t){e.addPost(t.addPostText)}}),t]})})),y=Object(h.a)(10),P=Object(p.a)({form:"post"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(x.jsx)("div",{children:Object(x.jsx)(d.a,{name:"addPostText",placeholder:"add post",component:f.b,validate:[h.b,y]})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:"add post"})})]})})),_=g,k=Object(j.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:l.a})(_),S=(s(292),s(286)),w=s(293),U=s.n(w),A=s(63),F=function(e){var t=Object(a.useState)(!1),s=Object(S.a)(t,2),n=s[0],r=s[1],i=Object(a.useState)(e.status),o=Object(S.a)(i,2),c=o[0],u=o[1];Object(a.useEffect)((function(){u(e.status)}),[e.status]);return Object(x.jsxs)("div",{children:[!n&&Object(x.jsx)("div",{children:Object(x.jsxs)("span",{onDoubleClick:e.isOwner&&function(){r(!0)},children:[Object(x.jsx)("b",{children:"Status: "}),e.status||"No status"]})}),n&&Object(x.jsx)("div",{children:Object(x.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatus(c)},value:c})})]})},M=s(287),I=s(34),C=s.n(I),N=Object(p.a)({form:"edit-profile"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(x.jsx)("div",{className:C.a.formSummuryError,children:e.error}),Object(x.jsx)("button",{children:"save"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Full name: "})," ",Object(x.jsx)(d.a,{name:"fullName",component:f.a,placeholder:"Full Name"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"About me: "})," ",Object(x.jsx)(d.a,{name:"aboutMe",component:f.b,placeholder:"About me"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"My skills: "})," ",Object(x.jsx)(d.a,{name:"lookingForAJobDescription",component:f.b,placeholder:"My skills"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Looking for a job: "})," ",Object(x.jsx)(d.a,{name:"lookingForAJob",component:f.a,type:"checkbox"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Contacts: "})," ",Object.keys(e.profile.contacts).map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("b",{children:[e,": "]}),Object(x.jsx)(d.a,{name:"contacts."+e,component:f.a,placeholder:e})," "]},e)}))]})]})})),T=function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:e.isOwner&&Object(x.jsx)("button",{onClick:e.goToEditMode,children:"edit"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Full name: "})," ",e.profile.fullName]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"About me: "})," ",e.profile.aboutMe]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"My skills: "})," ",e.profile.lookingForAJobDescription]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Looking for a job: "})," ",e.profile.lookingForAJob?"yes":"no"]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Contacts: "})," ",Object.keys(e.profile.contacts).map((function(t){return Object(x.jsx)(J,{contactTitle:t,contactValye:e.profile.contacts[t]},t)}))]})]})},J=function(e){var t=e.contactTitle,s=e.contactValye;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("b",{children:[t,": "]})," ",Object(x.jsx)("a",{href:s,children:s})]})},D=function(e){var t=Object(a.useState)(!1),s=Object(S.a)(t,2),n=s[0],r=s[1];if(!e.profile)return Object(x.jsx)(A.a,{});return Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{className:U.a.content__img,src:"https://c.wallhere.com/photos/2f/d7/mountain_lake_beautiful_night-1018189.jpg!d"}),Object(x.jsxs)("div",{className:U.a.profile__info,children:[Object(x.jsx)("img",{className:U.a.MainPhoto,src:e.profile.photos.large||M.a}),e.isOwner&&Object(x.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),Object(x.jsx)(F,{isOwner:e.isOwner,status:e.status,updateUserStatus:e.updateUserStatus}),n?Object(x.jsx)(N,{initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){r(!1)}))},profile:e.profile}):Object(x.jsx)(T,{goToEditMode:function(){r(!0)},profile:e.profile,isOwner:e.isOwner})]})]})},E=function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)(D,{saveProfile:e.saveProfile,savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),Object(x.jsx)(k,{})]})},L=s(11),V=s(10),z=(s(288),function(e){Object(o.a)(s,e);var t=Object(c.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"reFreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.reFreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!=e.match.params.userId&&this.reFreshProfile()}},{key:"render",value:function(){return Object(x.jsx)(E,Object(n.a)(Object(n.a)({},this.props),{},{saveProfile:this.props.saveProfile,savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))}}]),s}(u.a.Component));t.default=Object(V.d)(Object(j.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:l.c,getUserStatus:l.d,updateUserStatus:l.g,savePhoto:l.e,saveProfile:l.f}),L.f)(z)}}]);
//# sourceMappingURL=3.a0d21a6f.chunk.js.map