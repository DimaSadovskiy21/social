(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{303:function(e,t,r){e.exports={errorStatus:"Error_errorStatus__iQcAX"}},304:function(e,t,r){e.exports={item:"Post_item__4FtC2"}},305:function(e,t,r){e.exports={content__img:"ProfileInfo_content__img__2F_jQ",profile__info:"ProfileInfo_profile__info__2SyLg",MainPhoto:"ProfileInfo_MainPhoto__153xZ"}},307:function(e,t,r){"use strict";r.r(t);var s=r(3),o=r(0),i=r.n(o),c=r(11),n=r(107),a=r(41),j=r(98),l=r(138),u=r(29),b=r(69),d=r(304),O=r.n(d),f=r(1),h=function(e){return Object(f.jsxs)("div",{className:O.a.item,children:[Object(f.jsx)("img",{src:"https://a3.animevost.org/uploads/fotos/foto_400157.jpg"}),e.message,Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:[Object(f.jsx)("b",{children:"like"})," ",e.like]})})]})},p=i.a.memo((function(e){var t=Object(a.a)(e.posts).reverse().map((function(e){return Object(f.jsx)(h,{id:e.id,message:e.message,like:e.like},e.id)}));return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"My Posts"}),Object(f.jsx)(m,{onSubmit:function(t){e.addPost(t.addPostText)}}),t]})})),x=Object(b.a)(10),m=Object(l.a)({form:"post"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)(j.a,{name:"addPostText",placeholder:"add post",component:u.b,validate:[b.b,x]})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"add post"})})]})})),v=p,P=Object(c.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:n.a.addPost})(v),g=r(106),S=r(305),_=r.n(S),k=r(73),y=r(12),U=r(303),w=r.n(U),M=Object(y.d)(Object(c.b)((function(e){return{errorStatus:e.profilePage.errorStatus}}),{}))((function(e){return Object(f.jsx)("div",{className:w.a.errorStatus,children:e.errorStatus})})),N=function(e){var t=Object(o.useState)(!1),r=Object(g.a)(t,2),s=r[0],i=r[1],c=Object(o.useState)(e.status),n=Object(g.a)(c,2),a=n[0],j=n[1];Object(o.useEffect)((function(){j(e.status)}),[e.status]);return Object(f.jsxs)("div",{children:[!s&&Object(f.jsx)("div",{children:Object(f.jsxs)("span",{onDoubleClick:function(){e.isOwner&&i(!0)},children:[Object(f.jsx)("b",{children:"Status: "}),e.status||"No status"]})}),s&&Object(f.jsx)("div",{children:Object(f.jsx)("input",{onChange:function(e){j(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),e.updateUserStatus(a)},value:a})}),e.errorStatus&&Object(f.jsx)(M,{})]})},A=r(127),F=r(48),I=r.n(F),C=Object(l.a)({form:"edit-profile"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(f.jsx)("div",{className:I.a.formSummuryError,children:e.error}),Object(f.jsx)("button",{children:"save"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name: "})," ",Object(u.c)("Full Name","fullName",u.a,[])]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me: "})," ",Object(u.c)("About me","aboutMe",u.b,[])]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My skills: "})," ",Object(u.c)("My skills","lookingForAJobDescription",u.b,[])]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a job: "})," ",Object(u.c)(void 0,"lookingForAJob",u.a,[],{type:"checkbox"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts: "})," ",Object.keys(e.profile.contacts).map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("b",{children:[e,": "]}),Object(u.c)(e,"contacts."+e,u.a,[])," "]},e)}))]})]})})),T=Object(y.d)(Object(c.b)((function(e){return{errorPhoto:e.profilePage.errorPhoto}}),{}))((function(e){return Object(f.jsx)("div",{className:w.a.errorStatus,children:e.errorPhoto})})),E=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:e.isOwner&&Object(f.jsx)("button",{onClick:e.goToEditMode,children:"edit"})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name: "})," ",e.profile.fullName]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me: "})," ",e.profile.aboutMe]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My skills: "})," ",e.profile.lookingForAJobDescription]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a job: "})," ",e.profile.lookingForAJob?"yes":"no"]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts: "})," ",Object.keys(e.profile.contacts).map((function(t){return Object(f.jsx)(J,{contactTitle:t,contactValye:e.profile.contacts[t]},t)}))]})]})},J=function(e){var t=e.contactTitle,r=e.contactValye;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("b",{children:[t,": "]})," ",Object(f.jsx)("a",{href:r,children:r})]})},D=function(e){var t=Object(o.useState)(!1),r=Object(g.a)(t,2),s=r[0],i=r[1];if(!e.profile)return Object(f.jsx)(k.a,{});return Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{className:_.a.content__img,src:"https://c.wallhere.com/photos/2f/d7/mountain_lake_beautiful_night-1018189.jpg!d"}),Object(f.jsxs)("div",{className:_.a.profile__info,children:[Object(f.jsx)("img",{className:_.a.MainPhoto,src:e.profile.photos.large||A.a}),e.errorPhoto&&Object(f.jsx)(T,{}),e.isOwner&&Object(f.jsx)("input",{type:"file",onChange:function(t){var r;(null===(r=t.target.files)||void 0===r?void 0:r.length)&&e.savePhoto(t.target.files[0])}}),Object(f.jsx)(N,{errorStatus:e.errorStatus,isOwner:e.isOwner,status:e.status,updateUserStatus:e.updateUserStatus}),s?Object(f.jsx)(C,{initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){i(!1)}))},profile:e.profile}):Object(f.jsx)(E,{goToEditMode:function(){i(!0)},profile:e.profile,isOwner:e.isOwner})]})]})},L=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(D,{errorStatus:e.errorStatus,saveProfile:e.saveProfile,savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,errorPhoto:e.errorPhoto,status:e.status,updateUserStatus:e.updateUserStatus}),Object(f.jsx)(P,{})]})},V=r(13);t.default=Object(y.d)(Object(c.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.id,isAuth:e.auth.isAuth,errorStatus:e.profilePage.errorStatus,errorPhoto:e.profilePage.errorPhoto}}),{getUserProfile:n.c,getUserStatus:n.d,updateUserStatus:n.g,savePhoto:n.e,saveProfile:n.f}),V.h)((function(e){return Object(o.useEffect)((function(){!function(){var t=e.match.params.userId;t||(t=e.autorizedUserId)||e.history.push("/login"),e.getUserProfile(t),e.getUserStatus(t)}()}),[e.match.params.userId]),Object(f.jsx)("div",{children:Object(f.jsx)(L,Object(s.a)(Object(s.a)({},e),{},{saveProfile:e.saveProfile,savePhoto:e.savePhoto,isOwner:!e.match.params.userId,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,errorStatus:e.errorStatus,errorPhoto:e.errorPhoto}))})}))}}]);
//# sourceMappingURL=3.2c127ba7.chunk.js.map